<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ—¥è®°App - åŠŸèƒ½å±•ç¤º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* è‡ªå®šä¹‰æ ·å¼ */
        .feature-card {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tool-item {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tool-item:hover {
            transform: scale(1.05);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .demo-area {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .typing-animation {
            border-right: 2px solid #667eea;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { border-color: transparent; }
            51%, 100% { border-color: #667eea; }
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 8px;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .notebook-type {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .notebook-type:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .ai-suggestion {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-left: 4px solid #2196f3;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- å¯¼èˆªæ  -->
    <nav class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-brain text-2xl"></i>
                    <h1 class="text-xl font-bold">AIæ—¥è®°App - åŠŸèƒ½å±•ç¤º</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="index.html" class="hover:text-blue-200 transition-colors">
                        <i class="fas fa-home mr-2"></i>è¿”å›ä¸»é¡µ
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <!-- åŠŸèƒ½æ¦‚è§ˆ -->
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold gradient-text mb-4">æ™ºèƒ½åŠŸèƒ½ä½“éªŒä¸­å¿ƒ</h2>
            <p class="text-gray-600 text-lg">æ¢ç´¢AIæ—¥è®°Appçš„å„ç§æ™ºèƒ½åŠŸèƒ½å’Œå®ç”¨å·¥å…·</p>
        </div>

        <!-- æ ¸å¿ƒåŠŸèƒ½å±•ç¤º -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            <!-- AIå†™ä½œåŠ©æ‰‹ -->
            <div class="feature-card rounded-xl p-6 tool-item" onclick="openModal('aiWritingModal')">
                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-pen-fancy text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">AIå†™ä½œåŠ©æ‰‹</h3>
                    <p class="text-gray-600">æ™ºèƒ½å†…å®¹ç”Ÿæˆã€ç»­å†™å’Œä¼˜åŒ–å»ºè®®</p>
                </div>
            </div>

            <!-- æƒ…æ„Ÿåˆ†æ -->
            <div class="feature-card rounded-xl p-6 tool-item" onclick="openModal('emotionAnalysisModal')">
                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-heart text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">æƒ…æ„Ÿåˆ†æ</h3>
                    <p class="text-gray-600">æ™ºèƒ½è¯†åˆ«æƒ…æ„ŸçŠ¶æ€å’Œå¿ƒç†è¶‹åŠ¿</p>
                </div>
            </div>

            <!-- æ™ºèƒ½æ ‡ç­¾ -->
            <div class="feature-card rounded-xl p-6 tool-item" onclick="openModal('smartTagsModal')">
                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-tags text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">æ™ºèƒ½æ ‡ç­¾</h3>
                    <p class="text-gray-600">è‡ªåŠ¨ç”Ÿæˆå’Œæ¨èç›¸å…³æ ‡ç­¾</p>
                </div>
            </div>

            <!-- è®°æœ¬æ¨¡æ¿ -->
            <div class="feature-card rounded-xl p-6 tool-item" onclick="openModal('templatesModal')">
                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-file-alt text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">è®°æœ¬æ¨¡æ¿</h3>
                    <p class="text-gray-600">ä¸°å¯Œçš„é¢„è®¾æ¨¡æ¿å’Œè‡ªå®šä¹‰é€‰é¡¹</p>
                </div>
            </div>

            <!-- æ•°æ®å¯è§†åŒ– -->
            <div class="feature-card rounded-xl p-6 tool-item" onclick="openModal('dataVizModal')">
                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-chart-line text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">æ•°æ®å¯è§†åŒ–</h3>
                    <p class="text-gray-600">ç›´è§‚çš„å›¾è¡¨å’Œè¶‹åŠ¿åˆ†æ</p>
                </div>
            </div>

            <!-- æ™ºèƒ½æé†’ -->
            <div class="feature-card rounded-xl p-6 tool-item" onclick="openModal('smartRemindersModal')">
                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-bell text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">æ™ºèƒ½æé†’</h3>
                    <p class="text-gray-600">ä¸ªæ€§åŒ–æé†’å’Œä¹ æƒ¯å…»æˆ</p>
                </div>
            </div>
        </div>

        <!-- å®ç”¨å·¥å…·åŒº -->
        <div class="bg-white rounded-xl shadow-lg p-8 mb-12">
            <h3 class="text-2xl font-bold gradient-text mb-6 text-center">å®ç”¨å·¥å…·ç®±</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('wordCountModal')">
                    <i class="fas fa-calculator text-2xl mb-2 text-blue-500"></i>
                    <p class="font-medium">å­—æ•°ç»Ÿè®¡</p>
                </div>
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('moodTrackerModal')">
                    <i class="fas fa-smile text-2xl mb-2 text-yellow-500"></i>
                    <p class="font-medium">å¿ƒæƒ…è¿½è¸ª</p>
                </div>
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('goalTrackerModal')">
                    <i class="fas fa-target text-2xl mb-2 text-green-500"></i>
                    <p class="font-medium">ç›®æ ‡è¿½è¸ª</p>
                </div>
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('habitTrackerModal')">
                    <i class="fas fa-check-circle text-2xl mb-2 text-purple-500"></i>
                    <p class="font-medium">ä¹ æƒ¯æ‰“å¡</p>
                </div>
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('timelineModal')">
                    <i class="fas fa-clock text-2xl mb-2 text-red-500"></i>
                    <p class="font-medium">æ—¶é—´è½´</p>
                </div>
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('searchModal')">
                    <i class="fas fa-search text-2xl mb-2 text-indigo-500"></i>
                    <p class="font-medium">æ™ºèƒ½æœç´¢</p>
                </div>
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('exportModal')">
                    <i class="fas fa-download text-2xl mb-2 text-teal-500"></i>
                    <p class="font-medium">æ•°æ®å¯¼å‡º</p>
                </div>
                <div class="tool-item bg-gray-50 rounded-lg p-4 text-center" onclick="openModal('backupModal')">
                    <i class="fas fa-cloud text-2xl mb-2 text-gray-500"></i>
                    <p class="font-medium">äº‘ç«¯å¤‡ä»½</p>
                </div>
            </div>
        </div>
    </div>

    <!-- æ¨¡æ€æ¡†åŒºåŸŸ -->

    <!-- AIå†™ä½œåŠ©æ‰‹æ¨¡æ€æ¡† -->
    <div id="aiWritingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('aiWritingModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">AIå†™ä½œåŠ©æ‰‹</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">æ™ºèƒ½å†…å®¹ç”Ÿæˆæ¼”ç¤º</h4>
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">è¾“å…¥ä¸»é¢˜æˆ–å…³é”®è¯ï¼š</label>
                    <input type="text" id="writingTopic" class="w-full p-3 border rounded-lg" placeholder="ä¾‹å¦‚ï¼šä»Šå¤©çš„å·¥ä½œæ„Ÿæ‚Ÿ">
                    <button onclick="generateContent()" class="mt-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
                        <i class="fas fa-magic mr-2"></i>ç”Ÿæˆå†…å®¹
                    </button>
                </div>
                <div id="generatedContent" class="bg-white p-4 rounded-lg border min-h-[100px]">
                    <p class="text-gray-500 italic">AIç”Ÿæˆçš„å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º...</p>
                </div>
                <div class="mt-4">
                    <h5 class="font-medium mb-2">AIå»ºè®®ï¼š</h5>
                    <div id="aiSuggestions" class="space-y-2">
                        <!-- AIå»ºè®®å°†åŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æƒ…æ„Ÿåˆ†ææ¨¡æ€æ¡† -->
    <div id="emotionAnalysisModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('emotionAnalysisModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">æƒ…æ„Ÿåˆ†æ</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">æ–‡æœ¬æƒ…æ„Ÿåˆ†ææ¼”ç¤º</h4>
                <textarea id="emotionText" class="w-full p-3 border rounded-lg h-32" placeholder="è¾“å…¥ä¸€æ®µæ–‡å­—ï¼ŒAIå°†åˆ†æå…¶ä¸­çš„æƒ…æ„Ÿ..."></textarea>
                <button onclick="analyzeEmotion()" class="mt-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600">
                    <i class="fas fa-brain mr-2"></i>åˆ†ææƒ…æ„Ÿ
                </button>
                <div id="emotionResult" class="mt-4">
                    <!-- æƒ…æ„Ÿåˆ†æç»“æœ -->
                </div>
            </div>
        </div>
    </div>

    <!-- æ™ºèƒ½æ ‡ç­¾æ¨¡æ€æ¡† -->
    <div id="smartTagsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('smartTagsModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">æ™ºèƒ½æ ‡ç­¾</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">è‡ªåŠ¨æ ‡ç­¾ç”Ÿæˆæ¼”ç¤º</h4>
                <textarea id="tagText" class="w-full p-3 border rounded-lg h-32" placeholder="è¾“å…¥å†…å®¹ï¼ŒAIå°†è‡ªåŠ¨ç”Ÿæˆç›¸å…³æ ‡ç­¾..."></textarea>
                <button onclick="generateTags()" class="mt-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600">
                    <i class="fas fa-tags mr-2"></i>ç”Ÿæˆæ ‡ç­¾
                </button>
                <div id="generatedTags" class="mt-4">
                    <!-- ç”Ÿæˆçš„æ ‡ç­¾ -->
                </div>
            </div>
        </div>
    </div>

    <!-- è®°æœ¬æ¨¡æ¿æ¨¡æ€æ¡† -->
    <div id="templatesModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('templatesModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">è®°æœ¬æ¨¡æ¿</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">æ¨¡æ¿é€‰æ‹©</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="notebook-type bg-orange-100 p-4 rounded-lg border-2 border-orange-200" onclick="selectTemplate('diary')">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-book text-orange-500 text-xl mr-3"></i>
                            <h5 class="font-semibold">æ—¥è®°æ¨¡æ¿</h5>
                        </div>
                        <p class="text-sm text-gray-600">è®°å½•ç”Ÿæ´»ç‚¹æ»´ï¼Œæƒ…æ„Ÿè¡¨è¾¾</p>
                    </div>
                    <div class="notebook-type bg-green-100 p-4 rounded-lg border-2 border-green-200" onclick="selectTemplate('task')">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-tasks text-green-500 text-xl mr-3"></i>
                            <h5 class="font-semibold">ä»»åŠ¡æ¨¡æ¿</h5>
                        </div>
                        <p class="text-sm text-gray-600">ç›®æ ‡ç®¡ç†ï¼Œå¾…åŠäº‹é¡¹</p>
                    </div>
                    <div class="notebook-type bg-purple-100 p-4 rounded-lg border-2 border-purple-200" onclick="selectTemplate('contact')">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-users text-purple-500 text-xl mr-3"></i>
                            <h5 class="font-semibold">äººè„‰æ¨¡æ¿</h5>
                        </div>
                        <p class="text-sm text-gray-600">å…³ç³»ç®¡ç†ï¼Œäº’åŠ¨è®°å½•</p>
                    </div>
                    <div class="notebook-type bg-blue-100 p-4 rounded-lg border-2 border-blue-200" onclick="selectTemplate('note')">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-sticky-note text-blue-500 text-xl mr-3"></i>
                            <h5 class="font-semibold">ç¬”è®°æ¨¡æ¿</h5>
                        </div>
                        <p class="text-sm text-gray-600">çŸ¥è¯†æ•´ç†ï¼Œå­¦ä¹ è®°å½•</p>
                    </div>
                </div>
                <div id="templatePreview" class="mt-4 bg-white p-4 rounded-lg border">
                    <p class="text-gray-500 italic">é€‰æ‹©æ¨¡æ¿æŸ¥çœ‹é¢„è§ˆ...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- æ•°æ®å¯è§†åŒ–æ¨¡æ€æ¡† -->
    <div id="dataVizModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('dataVizModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">æ•°æ®å¯è§†åŒ–</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">è®°å½•ç»Ÿè®¡å›¾è¡¨</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <canvas id="recordsChart" width="300" height="200"></canvas>
                    </div>
                    <div>
                        <canvas id="emotionChart" width="300" height="200"></canvas>
                    </div>
                </div>
                <div class="mt-4">
                    <h5 class="font-medium mb-2">æ•°æ®æ´å¯Ÿï¼š</h5>
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <p class="text-sm">ğŸ“ˆ æœ¬æœˆè®°å½•æ•°é‡æ¯”ä¸Šæœˆå¢é•¿äº†25%</p>
                        <p class="text-sm">ğŸ˜Š ç§¯ææƒ…æ„Ÿå æ¯”è¾¾åˆ°78%</p>
                        <p class="text-sm">ğŸ¯ ç›®æ ‡å®Œæˆç‡ä¸º85%</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ™ºèƒ½æé†’æ¨¡æ€æ¡† -->
    <div id="smartRemindersModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('smartRemindersModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">æ™ºèƒ½æé†’</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">ä¸ªæ€§åŒ–æé†’è®¾ç½®</h4>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg border">
                        <div class="flex items-center justify-between">
                            <div>
                                <h5 class="font-medium">å†™æ—¥è®°æé†’</h5>
                                <p class="text-sm text-gray-600">æ¯å¤©æ™šä¸Š9ç‚¹æé†’å†™æ—¥è®°</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg border">
                        <div class="flex items-center justify-between">
                            <div>
                                <h5 class="font-medium">ç›®æ ‡æ£€æŸ¥</h5>
                                <p class="text-sm text-gray-600">æ¯å‘¨æ—¥å›é¡¾ç›®æ ‡è¿›åº¦</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg border">
                        <div class="flex items-center justify-between">
                            <div>
                                <h5 class="font-medium">äººè„‰ç»´æŠ¤</h5>
                                <p class="text-sm text-gray-600">æé†’è”ç³»é‡è¦æœ‹å‹</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å®ç”¨å·¥å…·æ¨¡æ€æ¡† -->

    <!-- å­—æ•°ç»Ÿè®¡æ¨¡æ€æ¡† -->
    <div id="wordCountModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('wordCountModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">å­—æ•°ç»Ÿè®¡å·¥å…·</h2>
            <div class="demo-area">
                <textarea id="wordCountText" class="w-full p-3 border rounded-lg h-32" placeholder="è¾“å…¥æ–‡å­—è¿›è¡Œç»Ÿè®¡..." oninput="updateWordCount()"></textarea>
                <div id="wordCountResult" class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="bg-white p-3 rounded-lg text-center">
                        <div class="text-2xl font-bold text-blue-500" id="charCount">0</div>
                        <div class="text-sm text-gray-600">å­—ç¬¦æ•°</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg text-center">
                        <div class="text-2xl font-bold text-green-500" id="wordCount">0</div>
                        <div class="text-sm text-gray-600">è¯æ•°</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg text-center">
                        <div class="text-2xl font-bold text-purple-500" id="lineCount">0</div>
                        <div class="text-sm text-gray-600">è¡Œæ•°</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg text-center">
                        <div class="text-2xl font-bold text-orange-500" id="readTime">0</div>
                        <div class="text-sm text-gray-600">é˜…è¯»æ—¶é—´(åˆ†)</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å¿ƒæƒ…è¿½è¸ªæ¨¡æ€æ¡† -->
    <div id="moodTrackerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('moodTrackerModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">å¿ƒæƒ…è¿½è¸ªå™¨</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">ä»Šæ—¥å¿ƒæƒ…</h4>
                <div class="grid grid-cols-5 gap-3 mb-4">
                    <div class="mood-item text-center p-3 rounded-lg cursor-pointer hover:bg-gray-100" onclick="selectMood('ğŸ˜¢', 'éš¾è¿‡')">
                        <div class="text-3xl mb-1">ğŸ˜¢</div>
                        <div class="text-xs">éš¾è¿‡</div>
                    </div>
                    <div class="mood-item text-center p-3 rounded-lg cursor-pointer hover:bg-gray-100" onclick="selectMood('ğŸ˜', 'ä¸€èˆ¬')">
                        <div class="text-3xl mb-1">ğŸ˜</div>
                        <div class="text-xs">ä¸€èˆ¬</div>
                    </div>
                    <div class="mood-item text-center p-3 rounded-lg cursor-pointer hover:bg-gray-100" onclick="selectMood('ğŸ˜Š', 'å¼€å¿ƒ')">
                        <div class="text-3xl mb-1">ğŸ˜Š</div>
                        <div class="text-xs">å¼€å¿ƒ</div>
                    </div>
                    <div class="mood-item text-center p-3 rounded-lg cursor-pointer hover:bg-gray-100" onclick="selectMood('ğŸ˜„', 'å¾ˆå¼€å¿ƒ')">
                        <div class="text-3xl mb-1">ğŸ˜„</div>
                        <div class="text-xs">å¾ˆå¼€å¿ƒ</div>
                    </div>
                    <div class="mood-item text-center p-3 rounded-lg cursor-pointer hover:bg-gray-100" onclick="selectMood('ğŸ¤©', 'è¶…æ£’')">
                        <div class="text-3xl mb-1">ğŸ¤©</div>
                        <div class="text-xs">è¶…æ£’</div>
                    </div>
                </div>
                <div id="moodResult" class="bg-white p-4 rounded-lg border">
                    <p class="text-gray-500 italic">é€‰æ‹©ä½ çš„å¿ƒæƒ…...</p>
                </div>
                <div class="mt-4">
                    <canvas id="moodTrendChart" width="400" height="200"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- ç›®æ ‡è¿½è¸ªæ¨¡æ€æ¡† -->
    <div id="goalTrackerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('goalTrackerModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">ç›®æ ‡è¿½è¸ªå™¨</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">æˆ‘çš„ç›®æ ‡</h4>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg border">
                        <div class="flex items-center justify-between mb-2">
                            <h5 class="font-medium">æ¯å¤©å†™æ—¥è®°</h5>
                            <span class="text-sm text-gray-500">85%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="progress-bar h-2 rounded-full" style="width: 85%"></div>
                        </div>
                        <p class="text-xs text-gray-600 mt-1">å·²åšæŒ 17/20 å¤©</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg border">
                        <div class="flex items-center justify-between mb-2">
                            <h5 class="font-medium">é˜…è¯»30æœ¬ä¹¦</h5>
                            <span class="text-sm text-gray-500">60%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="progress-bar h-2 rounded-full" style="width: 60%"></div>
                        </div>
                        <p class="text-xs text-gray-600 mt-1">å·²å®Œæˆ 18/30 æœ¬</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg border">
                        <div class="flex items-center justify-between mb-2">
                            <h5 class="font-medium">å­¦ä¹ æ–°æŠ€èƒ½</h5>
                            <span class="text-sm text-gray-500">40%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="progress-bar h-2 rounded-full" style="width: 40%"></div>
                        </div>
                        <p class="text-xs text-gray-600 mt-1">è¿›åº¦è‰¯å¥½ï¼Œç»§ç»­åŠ æ²¹ï¼</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¹ æƒ¯æ‰“å¡æ¨¡æ€æ¡† -->
    <div id="habitTrackerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('habitTrackerModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">ä¹ æƒ¯æ‰“å¡</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">æœ¬å‘¨ä¹ æƒ¯è¿½è¸ª</h4>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead>
                            <tr class="border-b">
                                <th class="text-left p-2">ä¹ æƒ¯</th>
                                <th class="text-center p-2">å‘¨ä¸€</th>
                                <th class="text-center p-2">å‘¨äºŒ</th>
                                <th class="text-center p-2">å‘¨ä¸‰</th>
                                <th class="text-center p-2">å‘¨å››</th>
                                <th class="text-center p-2">å‘¨äº”</th>
                                <th class="text-center p-2">å‘¨å…­</th>
                                <th class="text-center p-2">å‘¨æ—¥</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="p-2">æ—©èµ·</td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-times text-red-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2 cursor-pointer" onclick="toggleHabit(this)"><i class="fas fa-circle text-gray-300"></i></td>
                            </tr>
                            <tr class="border-b">
                                <td class="p-2">è¿åŠ¨</td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-times text-red-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-times text-red-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2 cursor-pointer" onclick="toggleHabit(this)"><i class="fas fa-circle text-gray-300"></i></td>
                            </tr>
                            <tr>
                                <td class="p-2">é˜…è¯»</td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-check text-green-500"></i></td>
                                <td class="text-center p-2"><i class="fas fa-times text-red-500"></i></td>
                                <td class="text-center p-2 cursor-pointer" onclick="toggleHabit(this)"><i class="fas fa-circle text-gray-300"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- å…¶ä»–å·¥å…·æ¨¡æ€æ¡† -->
    <div id="timelineModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('timelineModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">æ—¶é—´è½´è§†å›¾</h2>
            <div class="demo-area">
                <div class="space-y-4">
                    <div class="flex items-start space-x-4">
                        <div class="w-3 h-3 bg-blue-500 rounded-full mt-2"></div>
                        <div class="flex-1">
                            <div class="text-sm text-gray-500">2024å¹´1æœˆ15æ—¥ 09:30</div>
                            <div class="font-medium">å®Œæˆäº†é‡è¦é¡¹ç›®ææ¡ˆ</div>
                            <div class="text-sm text-gray-600">ä»Šå¤©ç»ˆäºå®Œæˆäº†è¿™ä¸ªæœˆæ¥ä¸€ç›´åœ¨å‡†å¤‡çš„é¡¹ç›®ææ¡ˆ...</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="w-3 h-3 bg-green-500 rounded-full mt-2"></div>
                        <div class="flex-1">
                            <div class="text-sm text-gray-500">2024å¹´1æœˆ14æ—¥ 20:15</div>
                            <div class="font-medium">ä¸è€æœ‹å‹èšé¤</div>
                            <div class="text-sm text-gray-600">ä¹…è¿çš„èšä¼šï¼ŒèŠäº†å¾ˆå¤šæœ‰è¶£çš„è¯é¢˜...</div>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <div class="w-3 h-3 bg-purple-500 rounded-full mt-2"></div>
                        <div class="flex-1">
                            <div class="text-sm text-gray-500">2024å¹´1æœˆ13æ—¥ 14:20</div>
                            <div class="font-medium">å­¦ä¹ æ–°æŠ€èƒ½</div>
                            <div class="text-sm text-gray-600">å¼€å§‹å­¦ä¹ AIç›¸å…³çŸ¥è¯†ï¼Œå¾ˆæœ‰æŒ‘æˆ˜æ€§...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="searchModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('searchModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">æ™ºèƒ½æœç´¢</h2>
            <div class="demo-area">
                <div class="relative mb-4">
                    <input type="text" id="searchInput" class="w-full p-3 pl-10 border rounded-lg" placeholder="æœç´¢è®°å½•ã€æ ‡ç­¾ã€å†…å®¹..." oninput="performSearch()">
                    <i class="fas fa-search absolute left-3 top-4 text-gray-400"></i>
                </div>
                <div id="searchResults" class="space-y-3">
                    <p class="text-gray-500 italic">è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢...</p>
                </div>
            </div>
        </div>
    </div>

    <div id="exportModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('exportModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">æ•°æ®å¯¼å‡º</h2>
            <div class="demo-area">
                <h4 class="font-semibold mb-3">é€‰æ‹©å¯¼å‡ºæ ¼å¼</h4>
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <button class="export-option p-4 border rounded-lg hover:bg-gray-50" onclick="exportData('pdf')">
                        <i class="fas fa-file-pdf text-red-500 text-2xl mb-2"></i>
                        <div class="font-medium">PDFæ ¼å¼</div>
                        <div class="text-sm text-gray-600">é€‚åˆæ‰“å°å’Œåˆ†äº«</div>
                    </button>
                    <button class="export-option p-4 border rounded-lg hover:bg-gray-50" onclick="exportData('word')">
                        <i class="fas fa-file-word text-blue-500 text-2xl mb-2"></i>
                        <div class="font-medium">Wordæ–‡æ¡£</div>
                        <div class="text-sm text-gray-600">ä¾¿äºç¼–è¾‘å’Œä¿®æ”¹</div>
                    </button>
                    <button class="export-option p-4 border rounded-lg hover:bg-gray-50" onclick="exportData('excel')">
                        <i class="fas fa-file-excel text-green-500 text-2xl mb-2"></i>
                        <div class="font-medium">Excelè¡¨æ ¼</div>
                        <div class="text-sm text-gray-600">æ•°æ®åˆ†æå’Œç»Ÿè®¡</div>
                    </button>
                    <button class="export-option p-4 border rounded-lg hover:bg-gray-50" onclick="exportData('json')">
                        <i class="fas fa-file-code text-purple-500 text-2xl mb-2"></i>
                        <div class="font-medium">JSONæ•°æ®</div>
                        <div class="text-sm text-gray-600">ç¨‹åºå¤„ç†å’Œå¤‡ä»½</div>
                    </button>
                </div>
                <div id="exportProgress" class="hidden">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-spinner fa-spin mr-2"></i>
                            <span>æ­£åœ¨å¯¼å‡ºæ•°æ®...</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div id="exportProgressBar" class="progress-bar h-2 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="backupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('backupModal')">&times;</span>
            <h2 class="text-2xl font-bold gradient-text mb-4">äº‘ç«¯å¤‡ä»½</h2>
            <div class="demo-area">
                <div class="bg-green-50 p-4 rounded-lg mb-4">
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-green-500 mr-2"></i>
                        <span class="font-medium">è‡ªåŠ¨å¤‡ä»½å·²å¯ç”¨</span>
                    </div>
                    <p class="text-sm text-gray-600 mt-1">æœ€åå¤‡ä»½æ—¶é—´ï¼š2024å¹´1æœˆ15æ—¥ 10:30</p>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                        <div>
                            <div class="font-medium">å¤‡ä»½é¢‘ç‡</div>
                            <div class="text-sm text-gray-600">æ¯å¤©è‡ªåŠ¨å¤‡ä»½</div>
                        </div>
                        <select class="border rounded px-3 py-1">
                            <option>æ¯å¤©</option>
                            <option>æ¯å‘¨</option>
                            <option>æ¯æœˆ</option>
                        </select>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-white rounded-lg border">
                        <div>
                            <div class="font-medium">å¤‡ä»½å†…å®¹</div>
                            <div class="text-sm text-gray-600">æ‰€æœ‰è®°å½•å’Œè®¾ç½®</div>
                        </div>
                        <button class="bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600">é…ç½®</button>
                    </div>
                    <button onclick="manualBackup()" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600">
                        <i class="fas fa-cloud-upload-alt mr-2"></i>ç«‹å³å¤‡ä»½
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ€æ¡†æ§åˆ¶
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';

            // ç‰¹æ®Šåˆå§‹åŒ–
            if (modalId === 'dataVizModal') {
                setTimeout(initCharts, 100);
            } else if (modalId === 'moodTrackerModal') {
                setTimeout(initMoodChart, 100);
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // AIå†™ä½œåŠ©æ‰‹åŠŸèƒ½
        function generateContent() {
            const topic = document.getElementById('writingTopic').value;
            const contentDiv = document.getElementById('generatedContent');
            const suggestionsDiv = document.getElementById('aiSuggestions');

            if (!topic.trim()) {
                contentDiv.innerHTML = '<p class="text-red-500">è¯·è¾“å…¥ä¸»é¢˜æˆ–å…³é”®è¯</p>';
                return;
            }

            // æ¨¡æ‹ŸAIç”Ÿæˆå†…å®¹
            contentDiv.innerHTML = '<div class="typing-animation">AIæ­£åœ¨ç”Ÿæˆå†…å®¹...</div>';

            setTimeout(() => {
                const generatedText = `å…³äº"${topic}"çš„æ€è€ƒï¼š

ä»Šå¤©åœ¨æ€è€ƒ${topic}è¿™ä¸ªè¯é¢˜æ—¶ï¼Œæˆ‘æ„è¯†åˆ°è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„æ¦‚å¿µï¼Œè€Œæ˜¯ä¸€ä¸ªå€¼å¾—æ·±å…¥æ¢è®¨çš„ä¸»é¢˜ã€‚ä»ä¸åŒçš„è§’åº¦æ¥çœ‹ï¼Œ${topic}éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ä»·å€¼å’Œæ„ä¹‰ã€‚

åœ¨æˆ‘çš„ä¸ªäººç»å†ä¸­ï¼Œ${topic}ç»™æˆ‘å¸¦æ¥äº†å¾ˆå¤šå¯å‘ã€‚å®ƒè®©æˆ‘æ˜ç™½äº†æˆé•¿çš„é‡è¦æ€§ï¼Œä¹Ÿè®©æˆ‘å­¦ä¼šäº†å¦‚ä½•æ›´å¥½åœ°é¢å¯¹æŒ‘æˆ˜ã€‚

æœªæ¥ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿåœ¨${topic}è¿™ä¸ªæ–¹é¢ç»§ç»­æ·±å…¥å­¦ä¹ å’Œå®è·µï¼Œä¸æ–­æå‡è‡ªå·±çš„è®¤çŸ¥å’Œèƒ½åŠ›ã€‚`;

                contentDiv.innerHTML = `<div class="whitespace-pre-line">${generatedText}</div>`;

                // ç”ŸæˆAIå»ºè®®
                suggestionsDiv.innerHTML = `
                    <div class="ai-suggestion p-3 rounded-lg mb-2">
                        <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                        å»ºè®®æ·»åŠ å…·ä½“çš„ä¾‹å­æ¥æ”¯æ’‘ä½ çš„è§‚ç‚¹
                    </div>
                    <div class="ai-suggestion p-3 rounded-lg mb-2">
                        <i class="fas fa-chart-line text-blue-500 mr-2"></i>
                        å¯ä»¥è€ƒè™‘ä»æ•°æ®è§’åº¦åˆ†æè¿™ä¸ªè¯é¢˜
                    </div>
                    <div class="ai-suggestion p-3 rounded-lg">
                        <i class="fas fa-users text-green-500 mr-2"></i>
                        åˆ†äº«ç»™æœ‹å‹å¬å¬ä»–ä»¬çš„çœ‹æ³•
                    </div>
                `;
            }, 2000);
        }

        // æƒ…æ„Ÿåˆ†æåŠŸèƒ½
        function analyzeEmotion() {
            const text = document.getElementById('emotionText').value;
            const resultDiv = document.getElementById('emotionResult');

            if (!text.trim()) {
                resultDiv.innerHTML = '<p class="text-red-500">è¯·è¾“å…¥è¦åˆ†æçš„æ–‡å­—</p>';
                return;
            }

            // æ¨¡æ‹Ÿæƒ…æ„Ÿåˆ†æ
            resultDiv.innerHTML = '<div class="text-center"><i class="fas fa-spinner fa-spin text-2xl"></i><p>æ­£åœ¨åˆ†ææƒ…æ„Ÿ...</p></div>';

            setTimeout(() => {
                const emotions = [
                    { name: 'ç§¯æ', value: 75, color: 'green' },
                    { name: 'ä¸­æ€§', value: 20, color: 'gray' },
                    { name: 'æ¶ˆæ', value: 5, color: 'red' }
                ];

                let html = '<h5 class="font-medium mb-3">æƒ…æ„Ÿåˆ†æç»“æœï¼š</h5>';
                emotions.forEach(emotion => {
                    html += `
                        <div class="flex items-center justify-between mb-2">
                            <span>${emotion.name}</span>
                            <div class="flex items-center">
                                <div class="w-32 bg-gray-200 rounded-full h-2 mr-2">
                                    <div class="bg-${emotion.color}-500 h-2 rounded-full" style="width: ${emotion.value}%"></div>
                                </div>
                                <span class="text-sm">${emotion.value}%</span>
                            </div>
                        </div>
                    `;
                });

                html += '<div class="mt-4 p-3 bg-green-50 rounded-lg"><i class="fas fa-smile text-green-500 mr-2"></i>æ•´ä½“æƒ…æ„Ÿå€¾å‘ï¼šç§¯æä¹è§‚</div>';

                resultDiv.innerHTML = html;
            }, 1500);
        }

        // æ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ
        function generateTags() {
            const text = document.getElementById('tagText').value;
            const tagsDiv = document.getElementById('generatedTags');

            if (!text.trim()) {
                tagsDiv.innerHTML = '<p class="text-red-500">è¯·è¾“å…¥å†…å®¹</p>';
                return;
            }

            // æ¨¡æ‹Ÿæ ‡ç­¾ç”Ÿæˆ
            tagsDiv.innerHTML = '<div class="text-center"><i class="fas fa-spinner fa-spin"></i> æ­£åœ¨ç”Ÿæˆæ ‡ç­¾...</div>';

            setTimeout(() => {
                const tags = ['å·¥ä½œ', 'å­¦ä¹ ', 'æˆé•¿', 'æ€è€ƒ', 'è®¡åˆ’', 'ç›®æ ‡', 'æ•ˆç‡', 'åˆ›æ–°'];
                const selectedTags = tags.sort(() => 0.5 - Math.random()).slice(0, 5);

                let html = '<h5 class="font-medium mb-3">æ¨èæ ‡ç­¾ï¼š</h5><div class="flex flex-wrap gap-2">';
                selectedTags.forEach(tag => {
                    html += `<span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm cursor-pointer hover:bg-blue-200">#${tag}</span>`;
                });
                html += '</div>';

                tagsDiv.innerHTML = html;
            }, 1000);
        }

        // æ¨¡æ¿é€‰æ‹©
        function selectTemplate(type) {
            const previewDiv = document.getElementById('templatePreview');
            const templates = {
                diary: {
                    title: 'æ—¥è®°æ¨¡æ¿',
                    content: `ğŸ“… æ—¥æœŸï¼š${new Date().toLocaleDateString()}
ğŸŒ¤ï¸ å¤©æ°”ï¼šæ™´æœ—
ğŸ˜Š å¿ƒæƒ…ï¼šå¼€å¿ƒ

ä»Šå¤©å‘ç”Ÿçš„äº‹ï¼š
-

æ„Ÿæ‚Ÿå’Œæ€è€ƒï¼š
-

æ˜å¤©çš„è®¡åˆ’ï¼š
- `
                },
                task: {
                    title: 'ä»»åŠ¡æ¨¡æ¿',
                    content: `ğŸ¯ ç›®æ ‡ï¼š
ğŸ“‹ ä»»åŠ¡åˆ—è¡¨ï¼š
â–¡ ä»»åŠ¡1
â–¡ ä»»åŠ¡2
â–¡ ä»»åŠ¡3

â° æˆªæ­¢æ—¶é—´ï¼š
ğŸ“Š ä¼˜å…ˆçº§ï¼šé«˜/ä¸­/ä½
âœ… å®ŒæˆçŠ¶æ€ï¼šè¿›è¡Œä¸­`
                },
                contact: {
                    title: 'äººè„‰æ¨¡æ¿',
                    content: `ğŸ‘¤ å§“åï¼š
ğŸ¢ å…¬å¸/èŒä½ï¼š
ğŸ“± è”ç³»æ–¹å¼ï¼š
ğŸ“ è®¤è¯†åœ°ç‚¹ï¼š
ğŸ¤ å…³ç³»ç±»å‹ï¼š

ğŸ’¬ æœ€è¿‘äº’åŠ¨ï¼š
ğŸ“ å¤‡æ³¨ï¼š`
                },
                note: {
                    title: 'ç¬”è®°æ¨¡æ¿',
                    content: `ğŸ“š ä¸»é¢˜ï¼š
ğŸ”– æ¥æºï¼š
ğŸ“… æ—¥æœŸï¼š

ğŸ“ è¦ç‚¹ï¼š
1.
2.
3.

ğŸ’¡ æ€è€ƒï¼š
ğŸ”— ç›¸å…³é“¾æ¥ï¼š`
                }
            };

            const template = templates[type];
            previewDiv.innerHTML = `
                <h5 class="font-medium mb-2">${template.title}</h5>
                <pre class="whitespace-pre-wrap text-sm text-gray-700 bg-gray-50 p-3 rounded">${template.content}</pre>
            `;
        }

        // å­—æ•°ç»Ÿè®¡
        function updateWordCount() {
            const text = document.getElementById('wordCountText').value;
            const charCount = text.length;
            const wordCount = text.trim() ? text.trim().split(/\s+/).length : 0;
            const lineCount = text.split('\n').length;
            const readTime = Math.ceil(wordCount / 200); // å‡è®¾æ¯åˆ†é’Ÿ200å­—

            document.getElementById('charCount').textContent = charCount;
            document.getElementById('wordCount').textContent = wordCount;
            document.getElementById('lineCount').textContent = lineCount;
            document.getElementById('readTime').textContent = readTime;
        }

        // å¿ƒæƒ…é€‰æ‹©
        function selectMood(emoji, mood) {
            const resultDiv = document.getElementById('moodResult');
            resultDiv.innerHTML = `
                <div class="text-center">
                    <div class="text-4xl mb-2">${emoji}</div>
                    <div class="text-lg font-medium">ä»Šæ—¥å¿ƒæƒ…ï¼š${mood}</div>
                    <div class="text-sm text-gray-600 mt-2">è®°å½•æ—¶é—´ï¼š${new Date().toLocaleString()}</div>
                </div>
            `;

            // é«˜äº®é€‰ä¸­çš„å¿ƒæƒ…
            document.querySelectorAll('.mood-item').forEach(item => {
                item.classList.remove('bg-blue-100');
            });
            event.target.closest('.mood-item').classList.add('bg-blue-100');
        }

        // ä¹ æƒ¯æ‰“å¡åˆ‡æ¢
        function toggleHabit(element) {
            const icon = element.querySelector('i');
            if (icon.classList.contains('fa-circle')) {
                icon.className = 'fas fa-check text-green-500';
            } else if (icon.classList.contains('fa-check')) {
                icon.className = 'fas fa-times text-red-500';
            } else {
                icon.className = 'fas fa-circle text-gray-300';
            }
        }

        // æœç´¢åŠŸèƒ½
        function performSearch() {
            const query = document.getElementById('searchInput').value;
            const resultsDiv = document.getElementById('searchResults');

            if (!query.trim()) {
                resultsDiv.innerHTML = '<p class="text-gray-500 italic">è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢...</p>';
                return;
            }

            // æ¨¡æ‹Ÿæœç´¢ç»“æœ
            setTimeout(() => {
                const results = [
                    { title: 'å·¥ä½œæ€»ç»“', content: 'ä»Šå¤©å®Œæˆäº†é‡è¦çš„é¡¹ç›®ææ¡ˆ...', date: '2024-01-15', type: 'æ—¥è®°' },
                    { title: 'å­¦ä¹ è®¡åˆ’', content: 'åˆ¶å®šäº†æ–°çš„å­¦ä¹ ç›®æ ‡...', date: '2024-01-14', type: 'ä»»åŠ¡' },
                    { title: 'æœ‹å‹èšä¼š', content: 'å’Œè€æœ‹å‹èšé¤ï¼ŒèŠäº†å¾ˆå¤š...', date: '2024-01-13', type: 'äººè„‰' }
                ];

                let html = '';
                results.forEach(result => {
                    html += `
                        <div class="bg-white p-4 rounded-lg border hover:shadow-md transition-shadow">
                            <div class="flex items-center justify-between mb-2">
                                <h5 class="font-medium">${result.title}</h5>
                                <span class="text-xs bg-gray-100 px-2 py-1 rounded">${result.type}</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">${result.content}</p>
                            <div class="text-xs text-gray-500">${result.date}</div>
                        </div>
                    `;
                });

                resultsDiv.innerHTML = html;
            }, 300);
        }

        // æ•°æ®å¯¼å‡º
        function exportData(format) {
            const progressDiv = document.getElementById('exportProgress');
            const progressBar = document.getElementById('exportProgressBar');

            progressDiv.classList.remove('hidden');

            let progress = 0;
            const interval = setInterval(() => {
                progress += 10;
                progressBar.style.width = progress + '%';

                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        progressDiv.classList.add('hidden');
                        alert(`${format.toUpperCase()}æ–‡ä»¶å¯¼å‡ºå®Œæˆï¼`);
                    }, 500);
                }
            }, 200);
        }

        // æ‰‹åŠ¨å¤‡ä»½
        function manualBackup() {
            const button = event.target;
            const originalText = button.innerHTML;

            button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>å¤‡ä»½ä¸­...';
            button.disabled = true;

            setTimeout(() => {
                button.innerHTML = '<i class="fas fa-check mr-2"></i>å¤‡ä»½å®Œæˆ';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.disabled = false;
                }, 2000);
            }, 3000);
        }

        // åˆå§‹åŒ–å›¾è¡¨
        function initCharts() {
            // è®°å½•ç»Ÿè®¡å›¾è¡¨
            const recordsCtx = document.getElementById('recordsChart').getContext('2d');
            new Chart(recordsCtx, {
                type: 'line',
                data: {
                    labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
                    datasets: [{
                        label: 'è®°å½•æ•°é‡',
                        data: [12, 19, 15, 25, 22, 30],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // æƒ…æ„Ÿåˆ†å¸ƒå›¾è¡¨
            const emotionCtx = document.getElementById('emotionChart').getContext('2d');
            new Chart(emotionCtx, {
                type: 'doughnut',
                data: {
                    labels: ['ç§¯æ', 'ä¸­æ€§', 'æ¶ˆæ'],
                    datasets: [{
                        data: [70, 25, 5],
                        backgroundColor: ['#10B981', '#6B7280', '#EF4444']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // åˆå§‹åŒ–å¿ƒæƒ…è¶‹åŠ¿å›¾è¡¨
        function initMoodChart() {
            const moodCtx = document.getElementById('moodTrendChart').getContext('2d');
            new Chart(moodCtx, {
                type: 'line',
                data: {
                    labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                    datasets: [{
                        label: 'å¿ƒæƒ…æŒ‡æ•°',
                        data: [7, 8, 6, 9, 8, 9, 8],
                        borderColor: '#F59E0B',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10
                        }
                    }
                }
            });
        }
    </script>

    <!-- å¼€å…³æ ·å¼ -->
    <style>
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }
    </style>
</body>
</html>